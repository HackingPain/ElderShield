{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from'react';import axios from'axios';// Create the authentication context\nimport{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();// Custom hook to use the auth context\nexport const useAuth=()=>{const context=useContext(AuthContext);if(!context){throw new Error('useAuth must be used within an AuthProvider');}return context;};// Configure axios defaults\nconst API_URL=process.env.REACT_APP_BACKEND_URL||'http://localhost:8001/api';axios.defaults.baseURL=API_URL;axios.defaults.withCredentials=true;// Authentication Provider Component\nexport const AuthProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);const[token,setToken]=useState(localStorage.getItem('seniorcare_token'));// Set up axios interceptor for token\nuseEffect(()=>{const requestInterceptor=axios.interceptors.request.use(config=>{if(token){config.headers.Authorization=`Bearer ${token}`;}return config;},error=>{return Promise.reject(error);});const responseInterceptor=axios.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){// Token expired or invalid\nlogout();// Show user-friendly message\nshowNotification('Session expired. Please log in again.','error');}return Promise.reject(error);});return()=>{axios.interceptors.request.eject(requestInterceptor);axios.interceptors.response.eject(responseInterceptor);};},[token]);// Load user on app start\nuseEffect(()=>{const loadUser=async()=>{if(token){try{const response=await axios.get('/auth/profile');setUser(response.data.user);}catch(error){console.error('Error loading user:',error);localStorage.removeItem('seniorcare_token');setToken(null);}}setLoading(false);};loadUser();},[token]);// Simple notification function (can be enhanced with toast library)\nconst showNotification=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';// For now, use alert - can be replaced with toast library\nif(type==='error'){alert(`Error: ${message}`);}else if(type==='success'){alert(`Success: ${message}`);}else{alert(message);}};// Login function\nconst login=async function(email,password){let rememberMe=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;try{setLoading(true);const response=await axios.post('/auth/login',{email,password,rememberMe});const{user:userData,token:userToken}=response.data;// Store token\nlocalStorage.setItem('seniorcare_token',userToken);setToken(userToken);setUser(userData);// Show success message\nshowNotification(`Welcome back, ${userData.firstName}!`,'success');return{success:true,user:userData};}catch(error){var _error$response2,_error$response2$data;const errorMessage=((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Login failed';showNotification(errorMessage,'error');return{success:false,error:errorMessage};}finally{setLoading(false);}};// Register function\nconst register=async userData=>{try{setLoading(true);const response=await axios.post('/auth/register',userData);const{user:newUser,token:userToken}=response.data;// Store token\nlocalStorage.setItem('seniorcare_token',userToken);setToken(userToken);setUser(newUser);// Show success message\nshowNotification(`Welcome to ElderShield, ${newUser.firstName}!`,'success');return{success:true,user:newUser};}catch(error){var _error$response3,_error$response3$data;const errorMessage=((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Registration failed';showNotification(errorMessage,'error');return{success:false,error:errorMessage};}finally{setLoading(false);}};// Logout function\nconst logout=async()=>{try{await axios.post('/auth/logout');}catch(error){console.error('Logout error:',error);}finally{// Clear local storage and state\nlocalStorage.removeItem('seniorcare_token');setToken(null);setUser(null);showNotification('Logged out successfully','success');}};// Update profile function\nconst updateProfile=async profileData=>{try{const response=await axios.put('/auth/profile',profileData);// Update user state\nsetUser(response.data.user);showNotification('Profile updated successfully','success');return{success:true,user:response.data.user};}catch(error){var _error$response4,_error$response4$data;const errorMessage=((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||'Profile update failed';showNotification(errorMessage,'error');return{success:false,error:errorMessage};}};// Change password function\nconst changePassword=async(currentPassword,newPassword)=>{try{await axios.post('/auth/change-password',{currentPassword,newPassword});showNotification('Password changed successfully','success');return{success:true};}catch(error){var _error$response5,_error$response5$data;const errorMessage=((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||'Password change failed';showNotification(errorMessage,'error');return{success:false,error:errorMessage};}};// Forgot password function\nconst forgotPassword=async email=>{try{const response=await axios.post('/auth/forgot-password',{email});showNotification('Password reset link sent to your email','success');return{success:true,message:response.data.message};}catch(error){var _error$response6,_error$response6$data;const errorMessage=((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.message)||'Password reset failed';showNotification(errorMessage,'error');return{success:false,error:errorMessage};}};// Reset password function\nconst resetPassword=async(token,password)=>{try{await axios.post('/auth/reset-password',{token,password});showNotification('Password reset successfully','success');return{success:true};}catch(error){var _error$response7,_error$response7$data;const errorMessage=((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.message)||'Password reset failed';showNotification(errorMessage,'error');return{success:false,error:errorMessage};}};// Utility functions\nconst isPremiumUser=()=>{return(user===null||user===void 0?void 0:user.subscription_tier)==='premium'||(user===null||user===void 0?void 0:user.subscription_tier)==='enterprise';};const isAdmin=()=>{return(user===null||user===void 0?void 0:user.role)==='admin';};const isCaregiver=()=>{return(user===null||user===void 0?void 0:user.role)==='caregiver';};const isSenior=()=>{return(user===null||user===void 0?void 0:user.role)==='senior';};const getUserFullName=()=>{return user?`${user.firstName} ${user.lastName}`:'';};const getUserInitials=()=>{var _user$firstName,_user$lastName;return user?`${((_user$firstName=user.firstName)===null||_user$firstName===void 0?void 0:_user$firstName[0])||''}${((_user$lastName=user.lastName)===null||_user$lastName===void 0?void 0:_user$lastName[0])||''}`:'';};const isSubscriptionExpired=()=>{if(!(user!==null&&user!==void 0&&user.subscription_expires_at))return false;return new Date(user.subscription_expires_at)<new Date();};// Context value\nconst value={// State\nuser,loading,token,// Authentication methods\nlogin,register,logout,updateProfile,changePassword,forgotPassword,resetPassword,// Utility methods\nisPremiumUser,isAdmin,isCaregiver,isSenior,getUserFullName,getUserInitials,isSubscriptionExpired,showNotification};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","axios","jsx","_jsx","AuthContext","useAuth","context","Error","API_URL","process","env","REACT_APP_BACKEND_URL","defaults","baseURL","withCredentials","AuthProvider","_ref","children","user","setUser","loading","setLoading","token","setToken","localStorage","getItem","requestInterceptor","interceptors","request","use","config","headers","Authorization","error","Promise","reject","responseInterceptor","response","_error$response","status","logout","showNotification","eject","loadUser","get","data","console","removeItem","message","type","arguments","length","undefined","alert","login","email","password","rememberMe","post","userData","userToken","setItem","firstName","success","_error$response2","_error$response2$data","errorMessage","register","newUser","_error$response3","_error$response3$data","updateProfile","profileData","put","_error$response4","_error$response4$data","changePassword","currentPassword","newPassword","_error$response5","_error$response5$data","forgotPassword","_error$response6","_error$response6$data","resetPassword","_error$response7","_error$response7$data","isPremiumUser","subscription_tier","isAdmin","role","isCaregiver","isSenior","getUserFullName","lastName","getUserInitials","_user$firstName","_user$lastName","isSubscriptionExpired","subscription_expires_at","Date","value","Provider"],"sources":["/app/client/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\n\n// Create the authentication context\nconst AuthContext = createContext();\n\n// Custom hook to use the auth context\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\n// Configure axios defaults\nconst API_URL = process.env.REACT_APP_BACKEND_URL || 'http://localhost:8001/api';\naxios.defaults.baseURL = API_URL;\naxios.defaults.withCredentials = true;\n\n// Authentication Provider Component\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [token, setToken] = useState(localStorage.getItem('seniorcare_token'));\n\n  // Set up axios interceptor for token\n  useEffect(() => {\n    const requestInterceptor = axios.interceptors.request.use(\n      (config) => {\n        if (token) {\n          config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n      },\n      (error) => {\n        return Promise.reject(error);\n      }\n    );\n\n    const responseInterceptor = axios.interceptors.response.use(\n      (response) => response,\n      (error) => {\n        if (error.response?.status === 401) {\n          // Token expired or invalid\n          logout();\n          // Show user-friendly message\n          showNotification('Session expired. Please log in again.', 'error');\n        }\n        return Promise.reject(error);\n      }\n    );\n\n    return () => {\n      axios.interceptors.request.eject(requestInterceptor);\n      axios.interceptors.response.eject(responseInterceptor);\n    };\n  }, [token]);\n\n  // Load user on app start\n  useEffect(() => {\n    const loadUser = async () => {\n      if (token) {\n        try {\n          const response = await axios.get('/auth/profile');\n          setUser(response.data.user);\n        } catch (error) {\n          console.error('Error loading user:', error);\n          localStorage.removeItem('seniorcare_token');\n          setToken(null);\n        }\n      }\n      setLoading(false);\n    };\n\n    loadUser();\n  }, [token]);\n\n  // Simple notification function (can be enhanced with toast library)\n  const showNotification = (message, type = 'info') => {\n    // For now, use alert - can be replaced with toast library\n    if (type === 'error') {\n      alert(`Error: ${message}`);\n    } else if (type === 'success') {\n      alert(`Success: ${message}`);\n    } else {\n      alert(message);\n    }\n  };\n\n  // Login function\n  const login = async (email, password, rememberMe = false) => {\n    try {\n      setLoading(true);\n      const response = await axios.post('/auth/login', {\n        email,\n        password,\n        rememberMe,\n      });\n\n      const { user: userData, token: userToken } = response.data;\n\n      // Store token\n      localStorage.setItem('seniorcare_token', userToken);\n      setToken(userToken);\n      setUser(userData);\n\n      // Show success message\n      showNotification(`Welcome back, ${userData.firstName}!`, 'success');\n\n      return { success: true, user: userData };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Login failed';\n      showNotification(errorMessage, 'error');\n      return { success: false, error: errorMessage };\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Register function\n  const register = async (userData) => {\n    try {\n      setLoading(true);\n      const response = await axios.post('/auth/register', userData);\n\n      const { user: newUser, token: userToken } = response.data;\n\n      // Store token\n      localStorage.setItem('seniorcare_token', userToken);\n      setToken(userToken);\n      setUser(newUser);\n\n      // Show success message\n      showNotification(`Welcome to ElderShield, ${newUser.firstName}!`, 'success');\n\n      return { success: true, user: newUser };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Registration failed';\n      showNotification(errorMessage, 'error');\n      return { success: false, error: errorMessage };\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Logout function\n  const logout = async () => {\n    try {\n      await axios.post('/auth/logout');\n    } catch (error) {\n      console.error('Logout error:', error);\n    } finally {\n      // Clear local storage and state\n      localStorage.removeItem('seniorcare_token');\n      setToken(null);\n      setUser(null);\n      showNotification('Logged out successfully', 'success');\n    }\n  };\n\n  // Update profile function\n  const updateProfile = async (profileData) => {\n    try {\n      const response = await axios.put('/auth/profile', profileData);\n      \n      // Update user state\n      setUser(response.data.user);\n      showNotification('Profile updated successfully', 'success');\n      \n      return { success: true, user: response.data.user };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Profile update failed';\n      showNotification(errorMessage, 'error');\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Change password function\n  const changePassword = async (currentPassword, newPassword) => {\n    try {\n      await axios.post('/auth/change-password', {\n        currentPassword,\n        newPassword,\n      });\n      \n      showNotification('Password changed successfully', 'success');\n      return { success: true };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Password change failed';\n      showNotification(errorMessage, 'error');\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Forgot password function\n  const forgotPassword = async (email) => {\n    try {\n      const response = await axios.post('/auth/forgot-password', { email });\n      \n      showNotification('Password reset link sent to your email', 'success');\n      return { success: true, message: response.data.message };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Password reset failed';\n      showNotification(errorMessage, 'error');\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Reset password function\n  const resetPassword = async (token, password) => {\n    try {\n      await axios.post('/auth/reset-password', {\n        token,\n        password,\n      });\n      \n      showNotification('Password reset successfully', 'success');\n      return { success: true };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Password reset failed';\n      showNotification(errorMessage, 'error');\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Utility functions\n  const isPremiumUser = () => {\n    return user?.subscription_tier === 'premium' || user?.subscription_tier === 'enterprise';\n  };\n\n  const isAdmin = () => {\n    return user?.role === 'admin';\n  };\n\n  const isCaregiver = () => {\n    return user?.role === 'caregiver';\n  };\n\n  const isSenior = () => {\n    return user?.role === 'senior';\n  };\n\n  const getUserFullName = () => {\n    return user ? `${user.firstName} ${user.lastName}` : '';\n  };\n\n  const getUserInitials = () => {\n    return user \n      ? `${user.firstName?.[0] || ''}${user.lastName?.[0] || ''}`\n      : '';\n  };\n\n  const isSubscriptionExpired = () => {\n    if (!user?.subscription_expires_at) return false;\n    return new Date(user.subscription_expires_at) < new Date();\n  };\n\n  // Context value\n  const value = {\n    // State\n    user,\n    loading,\n    token,\n    \n    // Authentication methods\n    login,\n    register,\n    logout,\n    updateProfile,\n    changePassword,\n    forgotPassword,\n    resetPassword,\n    \n    // Utility methods\n    isPremiumUser,\n    isAdmin,\n    isCaregiver,\n    isSenior,\n    getUserFullName,\n    getUserInitials,\n    isSubscriptionExpired,\n    showNotification,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC7E,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,KAAM,CAAAC,WAAW,cAAGP,aAAa,CAAC,CAAC,CAEnC;AACA,MAAO,MAAM,CAAAQ,OAAO,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,OAAO,CAAGR,UAAU,CAACM,WAAW,CAAC,CACvC,GAAI,CAACE,OAAO,CAAE,CACZ,KAAM,IAAI,CAAAC,KAAK,CAAC,6CAA6C,CAAC,CAChE,CACA,MAAO,CAAAD,OAAO,CAChB,CAAC,CAED;AACA,KAAM,CAAAE,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,EAAI,2BAA2B,CAChFV,KAAK,CAACW,QAAQ,CAACC,OAAO,CAAGL,OAAO,CAChCP,KAAK,CAACW,QAAQ,CAACE,eAAe,CAAG,IAAI,CAErC;AACA,MAAO,MAAM,CAAAC,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACuB,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAACyB,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAE5E;AACAzB,SAAS,CAAC,IAAM,CACd,KAAM,CAAA0B,kBAAkB,CAAGzB,KAAK,CAAC0B,YAAY,CAACC,OAAO,CAACC,GAAG,CACtDC,MAAM,EAAK,CACV,GAAIR,KAAK,CAAE,CACTQ,MAAM,CAACC,OAAO,CAACC,aAAa,CAAG,UAAUV,KAAK,EAAE,CAClD,CACA,MAAO,CAAAQ,MAAM,CACf,CAAC,CACAG,KAAK,EAAK,CACT,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAC9B,CACF,CAAC,CAED,KAAM,CAAAG,mBAAmB,CAAGnC,KAAK,CAAC0B,YAAY,CAACU,QAAQ,CAACR,GAAG,CACxDQ,QAAQ,EAAKA,QAAQ,CACrBJ,KAAK,EAAK,KAAAK,eAAA,CACT,GAAI,EAAAA,eAAA,CAAAL,KAAK,CAACI,QAAQ,UAAAC,eAAA,iBAAdA,eAAA,CAAgBC,MAAM,IAAK,GAAG,CAAE,CAClC;AACAC,MAAM,CAAC,CAAC,CACR;AACAC,gBAAgB,CAAC,uCAAuC,CAAE,OAAO,CAAC,CACpE,CACA,MAAO,CAAAP,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAC9B,CACF,CAAC,CAED,MAAO,IAAM,CACXhC,KAAK,CAAC0B,YAAY,CAACC,OAAO,CAACc,KAAK,CAAChB,kBAAkB,CAAC,CACpDzB,KAAK,CAAC0B,YAAY,CAACU,QAAQ,CAACK,KAAK,CAACN,mBAAmB,CAAC,CACxD,CAAC,CACH,CAAC,CAAE,CAACd,KAAK,CAAC,CAAC,CAEX;AACAtB,SAAS,CAAC,IAAM,CACd,KAAM,CAAA2C,QAAQ,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAIrB,KAAK,CAAE,CACT,GAAI,CACF,KAAM,CAAAe,QAAQ,CAAG,KAAM,CAAApC,KAAK,CAAC2C,GAAG,CAAC,eAAe,CAAC,CACjDzB,OAAO,CAACkB,QAAQ,CAACQ,IAAI,CAAC3B,IAAI,CAAC,CAC7B,CAAE,MAAOe,KAAK,CAAE,CACda,OAAO,CAACb,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC3CT,YAAY,CAACuB,UAAU,CAAC,kBAAkB,CAAC,CAC3CxB,QAAQ,CAAC,IAAI,CAAC,CAChB,CACF,CACAF,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAEDsB,QAAQ,CAAC,CAAC,CACZ,CAAC,CAAE,CAACrB,KAAK,CAAC,CAAC,CAEX;AACA,KAAM,CAAAmB,gBAAgB,CAAG,QAAAA,CAACO,OAAO,CAAoB,IAAlB,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,MAAM,CAC9C;AACA,GAAID,IAAI,GAAK,OAAO,CAAE,CACpBI,KAAK,CAAC,UAAUL,OAAO,EAAE,CAAC,CAC5B,CAAC,IAAM,IAAIC,IAAI,GAAK,SAAS,CAAE,CAC7BI,KAAK,CAAC,YAAYL,OAAO,EAAE,CAAC,CAC9B,CAAC,IAAM,CACLK,KAAK,CAACL,OAAO,CAAC,CAChB,CACF,CAAC,CAED;AACA,KAAM,CAAAM,KAAK,CAAG,cAAAA,CAAOC,KAAK,CAAEC,QAAQ,CAAyB,IAAvB,CAAAC,UAAU,CAAAP,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,CACtD,GAAI,CACF7B,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAgB,QAAQ,CAAG,KAAM,CAAApC,KAAK,CAACyD,IAAI,CAAC,aAAa,CAAE,CAC/CH,KAAK,CACLC,QAAQ,CACRC,UACF,CAAC,CAAC,CAEF,KAAM,CAAEvC,IAAI,CAAEyC,QAAQ,CAAErC,KAAK,CAAEsC,SAAU,CAAC,CAAGvB,QAAQ,CAACQ,IAAI,CAE1D;AACArB,YAAY,CAACqC,OAAO,CAAC,kBAAkB,CAAED,SAAS,CAAC,CACnDrC,QAAQ,CAACqC,SAAS,CAAC,CACnBzC,OAAO,CAACwC,QAAQ,CAAC,CAEjB;AACAlB,gBAAgB,CAAC,iBAAiBkB,QAAQ,CAACG,SAAS,GAAG,CAAE,SAAS,CAAC,CAEnE,MAAO,CAAEC,OAAO,CAAE,IAAI,CAAE7C,IAAI,CAAEyC,QAAS,CAAC,CAC1C,CAAE,MAAO1B,KAAK,CAAE,KAAA+B,gBAAA,CAAAC,qBAAA,CACd,KAAM,CAAAC,YAAY,CAAG,EAAAF,gBAAA,CAAA/B,KAAK,CAACI,QAAQ,UAAA2B,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBnB,IAAI,UAAAoB,qBAAA,iBAApBA,qBAAA,CAAsBjB,OAAO,GAAI,cAAc,CACpEP,gBAAgB,CAACyB,YAAY,CAAE,OAAO,CAAC,CACvC,MAAO,CAAEH,OAAO,CAAE,KAAK,CAAE9B,KAAK,CAAEiC,YAAa,CAAC,CAChD,CAAC,OAAS,CACR7C,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED;AACA,KAAM,CAAA8C,QAAQ,CAAG,KAAO,CAAAR,QAAQ,EAAK,CACnC,GAAI,CACFtC,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAgB,QAAQ,CAAG,KAAM,CAAApC,KAAK,CAACyD,IAAI,CAAC,gBAAgB,CAAEC,QAAQ,CAAC,CAE7D,KAAM,CAAEzC,IAAI,CAAEkD,OAAO,CAAE9C,KAAK,CAAEsC,SAAU,CAAC,CAAGvB,QAAQ,CAACQ,IAAI,CAEzD;AACArB,YAAY,CAACqC,OAAO,CAAC,kBAAkB,CAAED,SAAS,CAAC,CACnDrC,QAAQ,CAACqC,SAAS,CAAC,CACnBzC,OAAO,CAACiD,OAAO,CAAC,CAEhB;AACA3B,gBAAgB,CAAC,2BAA2B2B,OAAO,CAACN,SAAS,GAAG,CAAE,SAAS,CAAC,CAE5E,MAAO,CAAEC,OAAO,CAAE,IAAI,CAAE7C,IAAI,CAAEkD,OAAQ,CAAC,CACzC,CAAE,MAAOnC,KAAK,CAAE,KAAAoC,gBAAA,CAAAC,qBAAA,CACd,KAAM,CAAAJ,YAAY,CAAG,EAAAG,gBAAA,CAAApC,KAAK,CAACI,QAAQ,UAAAgC,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBxB,IAAI,UAAAyB,qBAAA,iBAApBA,qBAAA,CAAsBtB,OAAO,GAAI,qBAAqB,CAC3EP,gBAAgB,CAACyB,YAAY,CAAE,OAAO,CAAC,CACvC,MAAO,CAAEH,OAAO,CAAE,KAAK,CAAE9B,KAAK,CAAEiC,YAAa,CAAC,CAChD,CAAC,OAAS,CACR7C,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED;AACA,KAAM,CAAAmB,MAAM,CAAG,KAAAA,CAAA,GAAY,CACzB,GAAI,CACF,KAAM,CAAAvC,KAAK,CAACyD,IAAI,CAAC,cAAc,CAAC,CAClC,CAAE,MAAOzB,KAAK,CAAE,CACda,OAAO,CAACb,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACvC,CAAC,OAAS,CACR;AACAT,YAAY,CAACuB,UAAU,CAAC,kBAAkB,CAAC,CAC3CxB,QAAQ,CAAC,IAAI,CAAC,CACdJ,OAAO,CAAC,IAAI,CAAC,CACbsB,gBAAgB,CAAC,yBAAyB,CAAE,SAAS,CAAC,CACxD,CACF,CAAC,CAED;AACA,KAAM,CAAA8B,aAAa,CAAG,KAAO,CAAAC,WAAW,EAAK,CAC3C,GAAI,CACF,KAAM,CAAAnC,QAAQ,CAAG,KAAM,CAAApC,KAAK,CAACwE,GAAG,CAAC,eAAe,CAAED,WAAW,CAAC,CAE9D;AACArD,OAAO,CAACkB,QAAQ,CAACQ,IAAI,CAAC3B,IAAI,CAAC,CAC3BuB,gBAAgB,CAAC,8BAA8B,CAAE,SAAS,CAAC,CAE3D,MAAO,CAAEsB,OAAO,CAAE,IAAI,CAAE7C,IAAI,CAAEmB,QAAQ,CAACQ,IAAI,CAAC3B,IAAK,CAAC,CACpD,CAAE,MAAOe,KAAK,CAAE,KAAAyC,gBAAA,CAAAC,qBAAA,CACd,KAAM,CAAAT,YAAY,CAAG,EAAAQ,gBAAA,CAAAzC,KAAK,CAACI,QAAQ,UAAAqC,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgB7B,IAAI,UAAA8B,qBAAA,iBAApBA,qBAAA,CAAsB3B,OAAO,GAAI,uBAAuB,CAC7EP,gBAAgB,CAACyB,YAAY,CAAE,OAAO,CAAC,CACvC,MAAO,CAAEH,OAAO,CAAE,KAAK,CAAE9B,KAAK,CAAEiC,YAAa,CAAC,CAChD,CACF,CAAC,CAED;AACA,KAAM,CAAAU,cAAc,CAAG,KAAAA,CAAOC,eAAe,CAAEC,WAAW,GAAK,CAC7D,GAAI,CACF,KAAM,CAAA7E,KAAK,CAACyD,IAAI,CAAC,uBAAuB,CAAE,CACxCmB,eAAe,CACfC,WACF,CAAC,CAAC,CAEFrC,gBAAgB,CAAC,+BAA+B,CAAE,SAAS,CAAC,CAC5D,MAAO,CAAEsB,OAAO,CAAE,IAAK,CAAC,CAC1B,CAAE,MAAO9B,KAAK,CAAE,KAAA8C,gBAAA,CAAAC,qBAAA,CACd,KAAM,CAAAd,YAAY,CAAG,EAAAa,gBAAA,CAAA9C,KAAK,CAACI,QAAQ,UAAA0C,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBlC,IAAI,UAAAmC,qBAAA,iBAApBA,qBAAA,CAAsBhC,OAAO,GAAI,wBAAwB,CAC9EP,gBAAgB,CAACyB,YAAY,CAAE,OAAO,CAAC,CACvC,MAAO,CAAEH,OAAO,CAAE,KAAK,CAAE9B,KAAK,CAAEiC,YAAa,CAAC,CAChD,CACF,CAAC,CAED;AACA,KAAM,CAAAe,cAAc,CAAG,KAAO,CAAA1B,KAAK,EAAK,CACtC,GAAI,CACF,KAAM,CAAAlB,QAAQ,CAAG,KAAM,CAAApC,KAAK,CAACyD,IAAI,CAAC,uBAAuB,CAAE,CAAEH,KAAM,CAAC,CAAC,CAErEd,gBAAgB,CAAC,wCAAwC,CAAE,SAAS,CAAC,CACrE,MAAO,CAAEsB,OAAO,CAAE,IAAI,CAAEf,OAAO,CAAEX,QAAQ,CAACQ,IAAI,CAACG,OAAQ,CAAC,CAC1D,CAAE,MAAOf,KAAK,CAAE,KAAAiD,gBAAA,CAAAC,qBAAA,CACd,KAAM,CAAAjB,YAAY,CAAG,EAAAgB,gBAAA,CAAAjD,KAAK,CAACI,QAAQ,UAAA6C,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBrC,IAAI,UAAAsC,qBAAA,iBAApBA,qBAAA,CAAsBnC,OAAO,GAAI,uBAAuB,CAC7EP,gBAAgB,CAACyB,YAAY,CAAE,OAAO,CAAC,CACvC,MAAO,CAAEH,OAAO,CAAE,KAAK,CAAE9B,KAAK,CAAEiC,YAAa,CAAC,CAChD,CACF,CAAC,CAED;AACA,KAAM,CAAAkB,aAAa,CAAG,KAAAA,CAAO9D,KAAK,CAAEkC,QAAQ,GAAK,CAC/C,GAAI,CACF,KAAM,CAAAvD,KAAK,CAACyD,IAAI,CAAC,sBAAsB,CAAE,CACvCpC,KAAK,CACLkC,QACF,CAAC,CAAC,CAEFf,gBAAgB,CAAC,6BAA6B,CAAE,SAAS,CAAC,CAC1D,MAAO,CAAEsB,OAAO,CAAE,IAAK,CAAC,CAC1B,CAAE,MAAO9B,KAAK,CAAE,KAAAoD,gBAAA,CAAAC,qBAAA,CACd,KAAM,CAAApB,YAAY,CAAG,EAAAmB,gBAAA,CAAApD,KAAK,CAACI,QAAQ,UAAAgD,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBxC,IAAI,UAAAyC,qBAAA,iBAApBA,qBAAA,CAAsBtC,OAAO,GAAI,uBAAuB,CAC7EP,gBAAgB,CAACyB,YAAY,CAAE,OAAO,CAAC,CACvC,MAAO,CAAEH,OAAO,CAAE,KAAK,CAAE9B,KAAK,CAAEiC,YAAa,CAAC,CAChD,CACF,CAAC,CAED;AACA,KAAM,CAAAqB,aAAa,CAAGA,CAAA,GAAM,CAC1B,MAAO,CAAArE,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsE,iBAAiB,IAAK,SAAS,EAAI,CAAAtE,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsE,iBAAiB,IAAK,YAAY,CAC1F,CAAC,CAED,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,MAAO,CAAAvE,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEwE,IAAI,IAAK,OAAO,CAC/B,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,MAAO,CAAAzE,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEwE,IAAI,IAAK,WAAW,CACnC,CAAC,CAED,KAAM,CAAAE,QAAQ,CAAGA,CAAA,GAAM,CACrB,MAAO,CAAA1E,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEwE,IAAI,IAAK,QAAQ,CAChC,CAAC,CAED,KAAM,CAAAG,eAAe,CAAGA,CAAA,GAAM,CAC5B,MAAO,CAAA3E,IAAI,CAAG,GAAGA,IAAI,CAAC4C,SAAS,IAAI5C,IAAI,CAAC4E,QAAQ,EAAE,CAAG,EAAE,CACzD,CAAC,CAED,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,KAAAC,eAAA,CAAAC,cAAA,CAC5B,MAAO,CAAA/E,IAAI,CACP,GAAG,EAAA8E,eAAA,CAAA9E,IAAI,CAAC4C,SAAS,UAAAkC,eAAA,iBAAdA,eAAA,CAAiB,CAAC,CAAC,GAAI,EAAE,GAAG,EAAAC,cAAA,CAAA/E,IAAI,CAAC4E,QAAQ,UAAAG,cAAA,iBAAbA,cAAA,CAAgB,CAAC,CAAC,GAAI,EAAE,EAAE,CACzD,EAAE,CACR,CAAC,CAED,KAAM,CAAAC,qBAAqB,CAAGA,CAAA,GAAM,CAClC,GAAI,EAAChF,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEiF,uBAAuB,EAAE,MAAO,MAAK,CAChD,MAAO,IAAI,CAAAC,IAAI,CAAClF,IAAI,CAACiF,uBAAuB,CAAC,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAC5D,CAAC,CAED;AACA,KAAM,CAAAC,KAAK,CAAG,CACZ;AACAnF,IAAI,CACJE,OAAO,CACPE,KAAK,CAEL;AACAgC,KAAK,CACLa,QAAQ,CACR3B,MAAM,CACN+B,aAAa,CACbK,cAAc,CACdK,cAAc,CACdG,aAAa,CAEb;AACAG,aAAa,CACbE,OAAO,CACPE,WAAW,CACXC,QAAQ,CACRC,eAAe,CACfE,eAAe,CACfG,qBAAqB,CACrBzD,gBACF,CAAC,CAED,mBACEtC,IAAA,CAACC,WAAW,CAACkG,QAAQ,EAACD,KAAK,CAAEA,KAAM,CAAApF,QAAA,CAChCA,QAAQ,CACW,CAAC,CAE3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}